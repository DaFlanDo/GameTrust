{% extends 'admin/admin_base.html' %}
{% block content %}

<h1 class="text-2xl font-bold text-white mb-6">
  Переписка: {{ user1.username }} ↔ {{ user2.username }}
</h1>

<div class="bg-dark rounded-xl p-6 shadow max-w-4xl space-y-4">
  {% for msg in messages %}
  <div class="p-3 rounded-lg {% if msg.is_system %}bg-yellow-900/30 border-l-4 border-yellow-600{% else %}bg-gray-800{% endif %}">
    <div class="text-sm text-gray-400 mb-1">
      <span class="font-semibold text-white">{{ msg.sender.username }}</span>
      <span class="ml-2 text-gray-500 text-xs">{{ msg.created_at.strftime('%d.%m.%Y %H:%M') }}</span>
      {% if msg.is_system %}<span class="ml-2 text-yellow-400 text-xs">[Система]</span>{% endif %}
    </div>
    <div class="text-white whitespace-pre-wrap">{{ msg.content }}</div>
  </div>
  {% endfor %}
</div>

{% endblock %}